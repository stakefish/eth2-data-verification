(this["webpackJsonpeth2-data-verification"]=this["webpackJsonpeth2-data-verification"]||[]).push([[0],{185:function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return u}));var a=n(60),s=n(24),r=e.from("00000000","hex"),i=e.from("03000000","hex"),c=e.from("0000000000000000000000000000000000000000000000000000000000000000","hex"),o=function(e,t){var n={currentVersion:e,genesisValidatorsRoot:t};return s.a.hashTreeRoot(n)},u=function(e){var t=Object(s.c)(e.pubkey),n=Object(s.c)(e.signature),u=function(e,t){var n={objectRoot:e,domain:t};return s.b.hashTreeRoot(n)}(Object(s.c)(e.deposit_message_root),function(e){var t=o(arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,arguments.length>2&&void 0!==arguments[2]?arguments[2]:c),n=new Uint8Array(32);return n.set(e),n.set(t.subarray(0,28),4),n}(i));return Object(a.verify)(t,u,n)}}).call(this,n(2).Buffer)},186:function(e){e.exports=JSON.parse('[{"inputs":[{"internalType":"address","name":"depositContractAddr","type":"address"},{"internalType":"uint256","name":"initialFee","type":"uint256"}],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"previousFee","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"newFee","type":"uint256"}],"name":"FeeChanged","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"payee","type":"address"},{"indexed":false,"internalType":"uint256","name":"weiAmount","type":"uint256"}],"name":"FeeCollected","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"previousOwner","type":"address"},{"indexed":true,"internalType":"address","name":"newOwner","type":"address"}],"name":"OwnershipTransferred","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Paused","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"account","type":"address"}],"name":"Unpaused","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"payee","type":"address"},{"indexed":false,"internalType":"uint256","name":"weiAmount","type":"uint256"}],"name":"Withdrawn","type":"event"},{"inputs":[{"internalType":"bytes","name":"pubkeys","type":"bytes"},{"internalType":"bytes","name":"withdrawal_credentials","type":"bytes"},{"internalType":"bytes","name":"signatures","type":"bytes"},{"internalType":"bytes32[]","name":"deposit_data_roots","type":"bytes32[]"}],"name":"batchDeposit","outputs":[],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"uint256","name":"newFee","type":"uint256"}],"name":"changeFee","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"fee","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"pause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"paused","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"renounceOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"unpause","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address payable","name":"receiver","type":"address"}],"name":"withdraw","outputs":[],"stateMutability":"nonpayable","type":"function"}]')},190:function(e,t,n){},205:function(e,t){},207:function(e,t){},217:function(e,t){},219:function(e,t){},24:function(e,t,n){"use strict";(function(e){n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return i})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return o}));var a=n(15),s=function(t){return e.from(t,"hex")},r=new a.ContainerType({fields:{pubkey:new a.ByteVectorType({length:48}),withdrawalCredentials:new a.ByteVectorType({length:32}),amount:new a.NumberUintType({byteLength:8})}}),i=function(e){var t={pubkey:s(e.pubkey),withdrawalCredentials:s(e.withdrawal_credentials),amount:Number(e.amount)};return r.hashTreeRoot(t)},c=new a.ContainerType({fields:{objectRoot:new a.ByteVectorType({length:32}),domain:new a.ByteVectorType({length:32})}}),o=new a.ContainerType({fields:{currentVersion:new a.ByteVectorType({length:4}),genesisValidatorsRoot:new a.ByteVectorType({length:32})}})}).call(this,n(2).Buffer)},246:function(e,t){},248:function(e,t){},249:function(e,t){},254:function(e,t){},256:function(e,t){},262:function(e,t){},264:function(e,t){},283:function(e,t){},295:function(e,t){},298:function(e,t){},301:function(e,t,n){var a={"./bls.js":107,"./bls_c.js":302};function s(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}s.keys=function(){return Object.keys(a)},s.resolve=r,e.exports=s,s.id=301},334:function(e,t){},343:function(e,t){},384:function(e,t,n){"use strict";n.r(t);var a=n(5),s=(n(190),n(19)),r=n.n(s),i=n(181),c=n.n(i),o=n(14),u=n.n(o),l=n(182),d=n(104),p=n(47),y=n(60),m=n(103),b=n.n(m),f=n(24),h=n(185),j=n(186);var v=function(){var e=Object(s.useState)(),t=Object(p.a)(e,2),n=t[0],r=t[1],i=Object(s.useState)(),c=Object(p.a)(i,2),o=c[0],m=c[1],v=Object(s.useState)(),x=Object(p.a)(v,2),O=x[0],g=x[1],w=Object(s.useState)(),T=Object(p.a)(w,2),N=T[0],k=T[1],M=function(e,t,n,a){var s={pubkey:e,withdrawal_credentials:t,amount:n,signature:a},r=Object(f.d)(s).toString("hex");return Object(d.a)(Object(d.a)({},s),{},{deposit_message_root:r})},C=function(){var e=Object(l.a)(u.a.mark((function e(t){var n,a,s,i,c,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),r(void 0),e.prev=2,e.next=5,Object(y.initBLS)();case 5:if(b.a.addABI(j),null===(a=b.a.decodeMethod(o))||void 0===a||null===(n=a.params)||void 0===n?void 0:n.length){e.next=10;break}return r("error"),e.abrupt("return");case 10:s=a.params[3].value.length,i=a.params[0].value.slice(2).match(/.{1,96}/g),c=a.params[2].value.slice(2).match(/.{1,192}/g),l=0;case 14:if(!(l<s)){e.next=30;break}if(d=M(i[l],a.params[1].value.slice(2),Number("32000000000"),c[l]),Object(h.a)(d)){e.next=22;break}return console.error("Can't verify backend signature!",d),r("error"),e.abrupt("return");case 22:console.log(a.params),g(null===a||void 0===a?void 0:a.params[1].value),k(null===a||void 0===a?void 0:a.params[3].value.length),console.log("Sign ok"),r("success");case 27:l++,e.next=14;break;case 30:e.next=36;break;case 32:e.prev=32,e.t0=e.catch(2),console.error(e.t0),r("error");case 36:case"end":return e.stop()}}),e,null,[[2,32]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)("header",{className:"header",children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("a",{href:"https://stake.fish/",tabIndex:"-1",rel:"noopener",children:Object(a.jsx)("img",{className:"logo",src:"logo.svg",width:"220px",alt:"stake.fish"})})})}),Object(a.jsx)("section",{className:"section",children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("h1",{className:"title",children:"Check your ETH 2.0 Deposit Message"}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-left",children:Object(a.jsxs)("div",{className:"group",children:[Object(a.jsx)("p",{className:"lead",children:"This tool check if transaction raw data contains a valid ETH 2.0 Deposit Message. Copy and paste your ETH1.x Deposit transaction raw data here"}),Object(a.jsxs)("form",{className:"form",onSubmit:C,children:[Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("textarea",{name:"contract",className:"textarea-field",placeholder:"Paste your code here",onChange:function(e){return m(e.target.value)}})}),Object(a.jsx)("button",{type:"submit",className:"btn-primary",disabled:!o,children:"Check"})]}),"success"===n?Object(a.jsx)("div",{className:"message message--success",children:Object(a.jsxs)("div",{className:"message-inner",children:[Object(a.jsx)("div",{className:"message-icon",children:Object(a.jsx)("img",{src:"success-icn.svg",width:"64px",alt:"success"})}),Object(a.jsxs)("div",{className:"message-content",children:[Object(a.jsx)("div",{className:"message-title",children:"Success!"}),Object(a.jsxs)("div",{className:"message-text",children:["Withdrawal credentials: ",O]}),Object(a.jsxs)("div",{className:"message-text",children:["Validator number: ",N]})]})]})}):null,"error"===n?Object(a.jsx)("div",{className:"message message--error",children:Object(a.jsxs)("div",{className:"message-inner",children:[Object(a.jsx)("div",{className:"message-icon",children:Object(a.jsx)("img",{src:"error-icn.svg",width:"64px",alt:"error"})}),Object(a.jsxs)("div",{className:"message-content",children:[Object(a.jsx)("div",{className:"message-title",children:"Error"}),Object(a.jsx)("div",{className:"message-text",children:"Whoops! It looks like your transaction is not vaild for ETH 2 Mainnet. Do not broadcast the transaction and contact your staking provider."})]})]})}):null]})}),Object(a.jsx)("div",{className:"col-right",children:Object(a.jsx)("img",{className:"section-image",src:"developer@2x.png",alt:"developer",width:"440px"})})]})]})})]})};c.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(v,{})}),document.getElementById("root"))}},[[384,1,2]]]);
//# sourceMappingURL=main.a2d06cc9.chunk.js.map